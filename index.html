<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mines Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="balance-box">
            <span class="balance-label">Balance:</span>
            <span id="userBalanceDisplay">$1000.00</span>
            <button id="refreshBalanceButton" title="Reset Balance">↻</button>
        </div>
    </header>

    <div class="game-container">
        <div class="game-grid">
            <!-- Tiles will be generated by JavaScript here -->
            <!-- Cashout Popup - MOVED INSIDE game-grid -->
            <div id="cashoutPopup" class="grid-popup-overlay hidden">
                <div class="popup-content">
                    <div id="popupMultiplierDisplay" class="popup-multiplier">1.00x</div>
                    <hr class="popup-divider">
                    <div id="popupWinningsDisplay" class="popup-winnings">0.00</div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="bet-section">
                <label for="betAmountInput">Bet Amount</label>
                <div class="bet-input-group">
                    <input type="number" id="betAmountInput" value="0.00" step="0.01" min="0">
                    <div class="bet-actions">
                        <button id="halfBetButton">½</button>
                        <button id="doubleBetButton">2×</button>
                    </div>
                </div>
                <div id="betAmountUSDDisplay" class="amount-usd">$0.00</div>
            </div>

            <button id="mainActionButton" class="action-button">Bet</button>

            <div id="preGameControls">
                <div class="mines-section">
                    <label for="minesSelectButton">Mines</label>
                    <div class="custom-dropdown">
                        <button id="minesSelectButton" class="dropdown-toggle">3</button>
                        <ul id="minesSelectList" class="dropdown-list">
                            <!-- Mine options 1-24 will be generated by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>

            <div id="inGameControls" class="hidden">
                <div class="game-stats">
                    <div class="stat-item">
                        <label>Mines</label>
                        <input type="text" id="activeMinesDisplay" readonly>
                    </div>
                    <div class="stat-item">
                        <label>Gems</label>
                        <input type="text" id="activeGemsDisplay" readonly>
                    </div>
                </div>
                <div class="profit-display-section">
                    <label id="totalProfitLabel">Total profit (1.00x)</label>
                    <div class="profit-input-group">
                         <input type="text" id="totalProfitAmount" value="0.00" readonly>
                    </div>
                    <div id="totalProfitUSD" class="amount-usd">$0.00</div>
                </div>
            </div>
        </div>

        <!-- Bet History Section -->
        <div class="bet-history-container">
            <h2>Bet History</h2>
            <div id="betHistoryList" class="bet-history-list">
                <!-- History cards will be dynamically added here -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
